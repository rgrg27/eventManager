(this["webpackJsonpevent-manager"]=this["webpackJsonpevent-manager"]||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},21:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(4),s=n.n(i),c=(n(21),n(5)),l=n(6),o=n(7),u=n(2),m=n(10),v=n(9),d=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.fieldName,n=t.split(/(?=[A-Z])/).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ");return"description"===t?r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"field-name"},n,":"),r.a.createElement("textarea",{type:"text",className:"form-control",rows:"6",value:this.props.value,name:this.props.fieldName,onChange:function(t){return e.props.onValueChange(t)},placeholder:"Enter "+n}),this.props.error.length>0&&r.a.createElement("span",{className:"error"},this.props.error)):r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"field-name"},n,":"),r.a.createElement("input",{type:"text",className:"form-control",value:this.props.value,name:this.props.fieldName,onChange:function(t){return e.props.onValueChange(t)},placeholder:"Enter "+n}),this.props.error.length>0&&r.a.createElement("span",{className:"error"},this.props.error))}}]),n}(a.Component),h=n(1);function p(){var e=window.localStorage.getItem("events"),t=[];return null!=e&&(t=JSON.parse(e)),t}function f(e){var t=p();switch(e){case"discount":return t.filter((function(e){return 0!=e.discount}));case"free":return t.filter((function(e){return 0==e.price||100==e.discount}));case"nodiscount":return t.filter((function(e){return 0==e.discount}));default:return t}}var E=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).validateForm=function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t},a.handleChange=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value,i=a.state.errors;switch(n){case"eventName":i.eventName=r.length<5?"Event Name must be atlest 5 characters long!":"";break;case"description":i.description=r.length<15?"Description must be atleast 15 characters long!":"";break;case"price":i.price=isNaN(r)?"Price must be a positive numeric value":"";break;case"discount":i.discount=isNaN(r)?"discount must be a numeric value":""}a.setState(Object(c.a)({errors:i},n,r))},a.state={eventName:"",description:"",venue:"",price:"",discount:"",errors:{eventName:"",description:"",venue:"",price:"",discount:""}},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleDiscard=a.handleDiscard.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"handleSubmit",value:function(){var e={eventName:this.state.eventName,description:this.state.description,venue:this.state.venue,price:this.state.price,discount:this.state.discount};this.validateForm(this.state.errors)?(this.props.addEvent(e),this.handleDiscard()):console.error("Invalid Form"),console.log(JSON.stringify(e))}},{key:"handleDiscard",value:function(){this.setState({eventName:"",description:"",venue:"",price:"",discount:""})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"event-add"},r.a.createElement("div",{className:"event-editor"},r.a.createElement("h5",{className:""},"Create Event"),r.a.createElement("div",null,r.a.createElement(d,{fieldName:"eventName",value:this.state.eventName,error:this.state.errors.eventName,onValueChange:function(t){return e.handleChange(t)}}),r.a.createElement(d,{fieldName:"description",value:this.state.description,error:this.state.errors.description,onValueChange:function(t){return e.handleChange(t)}}),r.a.createElement(d,{fieldName:"venue",value:this.state.venue,error:this.state.errors.venue,onValueChange:function(t){return e.handleChange(t)}}),r.a.createElement(d,{fieldName:"price",value:this.state.price,error:this.state.errors.price,onValueChange:function(t){return e.handleChange(t)}}),r.a.createElement(d,{fieldName:"discount",value:this.state.discount,error:this.state.errors.discount,onValueChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{type:"submit",className:"event-button form-submit",onClick:this.handleSubmit},"Submit"),r.a.createElement("button",{type:"submit",className:"event-button",onClick:this.handleDiscard},"Discard"))))}}]),n}(a.Component),b=Object(h.b)(null,{addEvent:function(e){return function(e){var t=window.localStorage,n=parseInt(t.getItem("counter"));null==n?n=0:n+=1,e.id=(new Date).toLocaleDateString()+n;var a=p();a.push(e),t.setItem("events",JSON.stringify(a)),t.setItem("counter",n)}(e),console.log("hi"),{type:"ADDEVENT",payload:{events:p()}}}})(E),N={ALL:"all",FREE:"free",DISCOUNT:"discount",NODISCOUNT:"nodiscount"};var g=Object(h.b)((function(e){return{activeFilter:e.currentFilter}}),{setFilter:function(e){return{type:"SETFILTER",payload:{filter:e,events:f(e)}}}})((function(e){var t=e.activeFilter;return r.a.createElement("div",{className:"visibility-filters"},Object.keys(N).map((function(n){var a=N[n];return r.a.createElement("span",{className:a===t?"btn event-button":"btn",key:"visibility-filter-".concat(a),onClick:function(){return e.setFilter(a)}},a)})))}));var O=Object(h.b)((function(e){var t=e.currentFilter;return{events:f(t),currentFilter:t}}))((function(e){var t=e.events,n=t&&t.length?t.map((function(e){return r.a.createElement("div",{className:"event",key:e.id},r.a.createElement("div",{className:"event-head"},r.a.createElement("h2",null,e.eventName),r.a.createElement("div",{className:"event-desc"},e.description)),r.a.createElement("div",{className:"event-info"},r.a.createElement("h4",null,e.venue),r.a.createElement("h5",null,"Price: Rs. ",e.price,"/-"),r.a.createElement("h6",null,"Discount: ",e.discount," %")))})):r.a.createElement("h2",{className:"no-event"},"No Events Available. Create An Event");return r.a.createElement("div",null,r.a.createElement("h1",{className:"event-show"},"Events"),r.a.createElement(g,null),n)}));n(28);var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(O,null))},C=n(8),j=n(3),k={events:[],currentFilter:"all"},w=Object(C.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDEVENT":console.log("inside reducer");var n=t.payload.events;return Object(j.a)(Object(j.a)({},e),{},{events:n});case"SETFILTER":console.log("in");var a=t.payload,r=a.filter,i=a.events;return Object(j.a)(Object(j.a)({},e),{},{currentFilter:r,events:i});default:return e}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:w},r.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.42b5072c.chunk.js.map